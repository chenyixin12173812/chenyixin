# 其他

# 二 、KMP算法

## 28. 实现 strStr()

```java
class Solution {
    public int strStr(String haystack, String needle) {
      if(needle ==null || needle.equals("")){
          return 0;
      }
      int len1 = haystack.length();
      int len2 = needle.length();
      if(len2>len1) {
          return -1;
      }
      int i =0;
      int j =0;

      int [] nexts = getNext(needle.toCharArray());
      while(i<len1 && j<len2) {

        if(haystack.charAt(i) == needle.charAt(j)) {
           i++;
           j++;
        } else {
           if(nexts[j]==-1) {
               i++;
           } else{
               j = nexts[j];
           }
        }
        if(j==len2) return i-len2;
      } 
      return -1;
    }

    private int [] getNext(char [] chars) {
        int n = chars.length;
        if(n==0) {
          return  new int[] {-1};
        }
        int [] next = new int [n];
        next[0] =-1;
        int k =-1;
        int j =0;
        while(j<n-1) {
            if(k==-1||chars[k]==chars[j]) {
                k++;
                j++;
                next[j] = k;
            } else {
              k= next[k];
            }

        }
        return next; 
    }

}
```

## 25 [214. 最短回文串](https://leetcode-cn.com/problems/shortest-palindrome/)

给定一个字符串 s，你可以通过在字符串前面添加字符将其转换为回文串。找到并返回可以用这种方式转换的最短回文串。

示例 1:

输入: "aacecaaa"
输出: "aaacecaaa"
示例 2:

输入: "abcd"
输出: "dcbabcd"

```java
class Solution {
    public String shortestPalindrome(String s) {
        if(s==null||s.length() ==0) {
            return "";
        }
        String s2 = s+"#" + new StringBuilder(s).reverse().toString();
        return new StringBuilder(s.substring(getNext(s2.toCharArray())+1)).reverse().toString()+s;
    }
    private int getNext(char [] chars) {
        int n = chars.length;
        if(n==0) {
            return -1;
        }
        int [] next = new int [n];
        next[0] =-1;
        int k =-1;
        int j =0;
        while(j<n-1) {
            if(k==-1||chars[k]==chars[j]) {
                k++;
                j++;
                next[j] = k;
            } else {
              k= next[k];
            }

        }
        eturn next[n-1]; 
    } 
}
```

# 五 并差集

初级班 第七节

1.查询两个元素是否属于一个集合

2.合并两个集合

#### [128. 最长连续序列](https://leetcode-cn.com/problems/longest-consecutive-sequence/)

## 305   [岛屿数量 II](https://leetcode-cn.com/problems/number-of-islands-ii) 

# 306 [547. 朋友圈](https://leetcode-cn.com/problems/friend-circles/)



