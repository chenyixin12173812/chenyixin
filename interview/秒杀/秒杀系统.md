# 1 秒杀系统





必看必看

https://segmentfault.com/a/1190000022589652

# 8 库存超卖问题



## 8.1redis队列

能够秒杀成功的只有500人,我们把先进来的用户放入redis队列中,当队列中的用户达到500时，后来用户就转到秒杀结束页面 



## 8.2 优化redis分布式锁 分段（复杂，且满）

## 8.3 不用分布式锁一般使用分布式kv存储，使用tair和mongodb

直接扣数量，为负数就回滚，mq异步更新到数据库。